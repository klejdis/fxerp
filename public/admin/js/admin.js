!function(t){var a={};function e(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=a,e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="/",e(e.s=0)}([function(t,a,e){e(1),t.exports=e(5)},function(t,a,e){e(2),e(3),e(4)},function(t,a){checkNotifications=function(t){function a(a,e){return t.apply(this,arguments)}return a.toString=function(){return t.toString()},a}(function(t,a){t&&t.notificationUrl&&$.ajax({url:t.notificationUrl,dataType:"json",success:function(e){if(e.success&&(e.total_notifications&&1*e.total_notifications&&t.notificationSelector.html("<i class='fa "+t.icon+"'></i> <span class='badge bg-danger up'>"+e.total_notifications+"</span>"),t.notificationSelector.parent().find(".dropdown-details").html(e.notification_list),a&&$.ajax({url:t.notificationStatusUpdateUrl,success:function(){t.notificationSelector.html("<i class='fa "+t.icon+"'></i>")}})),!a){var n=t.checkNotificationAfterEvery;(n*=1e3)<1e4&&(n=1e4),setTimeout(function(){checkNotifications(t)},n)}}})})},function(t,a){$(window).load(function(){$("#pre-loader").delay(250).fadeOut(function(){$("#pre-loader").remove()})}),$(document).ready(function(){$.ajaxSetup({cache:!1}),$("#sidebar-toggle-md").click(function(){$("#sidebar").toggleClass("collapsed"),$("#sidebar").hasClass("collapsed")?($(this).find(".fa").removeClass("fa-dedent"),$(this).find(".fa").addClass("fa-indent")):($(this).find(".fa").addClass("fa-dedent"),$(this).find(".fa").removeClass("fa-indent"))}),$("#sidebar-collapse").click(function(){$("#sidebar").addClass("collapsed")}),$("#sidebar-menu > .expand > a").click(function(){var t=$(this).parent();if(t.hasClass("main")&&(t.hasClass("open")?t.removeClass("open"):($("#sidebar-menu >.expand").removeClass("open"),t.addClass("open")),!$(this).closest(".collapsed").length))return!1}),$("#sidebar-toggle").click(function(){$("body").toggleClass("off-screen"),$("#sidebar").removeClass("collapsed")}),setPageScrollable(),setMenuScrollable(),$(window).resize(function(){setPageScrollable(),setMenuScrollable()}),$("body").on("click",".timeline-images a",function(){var t=$(this).closest(".timeline-images");return t.magnificPopup({delegate:"a",type:"image",closeOnContentClick:!1,closeBtnInside:!1,mainClass:"mfp-with-zoom mfp-img-mobile",gallery:{enabled:!0},image:{titleSrc:"data-title"},callbacks:{change:function(t){var a=$(t.el).data();setTimeout(function(){a&&"google"===a.viewer?$(".mfp-content").addClass("full-width-mfp-content"):$(".mfp-content").removeClass("full-width-mfp-content")})}}}),t.magnificPopup("open"),!1})}),setPageScrollable=function(){$.fn.mCustomScrollbar&&($(window).width()<=640?($("html").css({overflow:"auto"}),$("body").css({overflow:"auto"})):initScrollbar(".scrollable-page",{setHeight:$(window).height()-45}))},setMenuScrollable=function(){initScrollbar("#sidebar-scroll",{setHeight:$(window).height()-45})},initScrollbar=function(t,a){a||(a={});var e=$.extend({},{theme:"minimal-dark",autoExpandScrollbar:!0,keyboard:{enable:!0,scrollType:"stepless",scrollAmount:40},mouseWheelPixels:300,scrollInertia:60,mouseWheel:{scrollAmount:188,normalizeDelta:!0}},a);"native"==AppHelper.settings.scrollbar?$(t).css({height:e.setHeight+"px","overflow-y":"scroll"}):$.fn.mCustomScrollbar&&$(t).mCustomScrollbar(e)},getRndomString=function(t){for(var a="",e="!-().0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=t;n>0;--n)a+=e[Math.round(Math.random()*(e.length-1))];return a},getRandomAlphabet=function(t){for(var a="",e="abcdefghijklmnopqrstuvwxyz",n=t;n>0;--n)a+=e[Math.round(Math.random()*(e.length-1))];return a},attachDropzoneWithForm=function(t,a,e,n){var o=$(t),r=o.find(".post-file-dropzone-scrollbar"),i=o.find(".post-file-previews"),s=o.find(".post-file-upload-row"),l=o.find(".upload-file-button"),d=o.find("button[type=submit]"),c=getRandomAlphabet(15),m=getRandomAlphabet(15),u=getRandomAlphabet(15);i.attr("id",c),s.attr("id",m),l.attr("id",u);var f=document.querySelector("#"+m);f.id="";var p=f.parentNode.innerHTML;return f.parentNode.removeChild(f),n||(n={}),new Dropzone(t,{url:a,thumbnailWidth:80,thumbnailHeight:80,parallelUploads:20,maxFilesize:3e3,previewTemplate:p,dictDefaultMessage:AppLanugage.fileUploadInstruction,autoQueue:!0,previewsContainer:"#"+c,clickable:"#"+u,maxFiles:n.maxFiles?n.maxFiles:1e3,init:function(){this.on("maxfilesexceeded",function(t){this.removeAllFiles(),this.addFile(t)})},accept:function(t,a){t.name.length>200&&a(AppLanugage.fileNameTooLong),r.removeClass("hide"),initScrollbar(r,{setHeight:90}),r.parent().removeClass("hide"),o.find("textarea").focus(),$.ajax({url:e,data:{file_name:t.name,file_size:t.size},cache:!1,type:"POST",dataType:"json",success:function(e){e.success?($(t.previewTemplate).append("<input type='hidden' name='file_names[]' value='"+t.name+"' />\n                                 <input type='hidden' name='file_sizes[]' value='"+t.size+"' />"),a()):(appAlert.error(e.message),$(t.previewTemplate).find("input").remove(),a(e.message))}})},processing:function(){d.prop("disabled",!0)},queuecomplete:function(){d.prop("disabled",!1)},reset:function(t){r.addClass("hide")},fallback:function(){$("body").addClass("dropzone-disabled"),l.click(function(){$(this).html("<i class='fa fa-camera'></i> Add more"),r.removeClass("hide"),initScrollbar(r,{setHeight:90}),r.parent().removeClass("hide"),i.prepend("<div class='clearfix p5 file-row'><button type='button' class='btn btn-xs btn-danger pull-left mr10 remove-file'><i class='fa fa-times'></i></button> <input class='pull-left' type='file' name='manualFiles[]' /></div>")}),i.on("click",".remove-file",function(){$(this).parent().remove()})},success:function(t){setTimeout(function(){$(t.previewElement).find(".progress-striped").removeClass("progress-striped").addClass("progress-bar-success")},1e3)}})},teamAndMemberSelect2Format=function(t){return"team"===t.type?"<i class='fa fa-users info'></i> "+t.text:"<i class='fa fa-user'></i> "+t.text},setDatePicker=function(t,a){a||(a={});var e=$.extend({},{autoclose:!0,language:"custom",todayHighlight:!0,weekStart:AppHelper.settings.firstDayOfWeek,format:"yyyy-mm-dd"},a);$(t).datepicker(e)},setTimePicker=function(t,a){a||(a={});var e="24_hours"!=AppHelper.settings.timeFormat,n=$.extend({},{minuteStep:5,defaultTime:"",appendWidgetTo:"#ajaxModal",showMeridian:e},a);$(t).timepicker(n)},initWYSIWYGEditor=function(t,a){a||(a={});var e=$.extend({},{height:250,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["hr"]],["view",["fullscreen","codeview"]]],disableDragAndDrop:!0},a);$(t).summernote(e)},getWYSIWYGEditorHTML=function(t){return $(t).summernote("code")},combineCustomFieldsColumns=function(t,a){if(t&&a){var e=t.slice(-1)[0],n=a.split(",").length;if(n)for(var o=1;o<=n;o++)t.push(o+e),e++}return t},setSelect2=function(t,a){a||(a={}),$(t).select2(a)}},function(t,a){var e;$(document).ready(function(){$.ajaxSetup({cache:!1,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),moment.locale(AppLanugage.locale),jQuery.fn.datepicker.dates.custom={days:AppLanugage.days,daysShort:AppLanugage.daysShort,daysMin:AppLanugage.daysMin,months:AppLanugage.months,monthsShort:AppLanugage.monthsShort,today:AppLanugage.today},$("body").on("click","[data-act=ajax-modal]",function(){var t={ajaxModal:1},a=$(this).attr("data-action-url"),e=$(this).attr("data-modal-lg"),n=$(this).attr("data-title");return a?(n?$("#ajaxModalTitle").html(n):$("#ajaxModalTitle").html($("#ajaxModalTitle").attr("data-title")),$("#ajaxModalContent").html($("#ajaxModalOriginalContent").html()),$("#ajaxModalContent").find(".original-modal-body").removeClass("original-modal-body").addClass("modal-body"),$("#ajaxModal").modal("show"),$(this).each(function(){$.each(this.attributes,function(){if(this.specified&&this.name.match("^data-post-")){var a=this.name.replace("data-post-","");t[a]=this.value}})}),ajaxModalXhr=$.ajax({url:a,data:t,cache:!1,type:"POST",success:function(t){$("#ajaxModal").find(".modal-dialog").removeClass("mini-modal"),"1"===e&&$("#ajaxModal").find(".modal-dialog").addClass("modal-lg"),$("#ajaxModalContent").html(t);var a=$("#ajaxModalContent").find(".modal-body"),n=a.height(),o=$(window).height()-200;n>o&&(n=o,$.fn.mCustomScrollbar&&a.mCustomScrollbar({setHeight:n,theme:"minimal-dark",autoExpandScrollbar:!0}))},statusCode:{404:function(){$("#ajaxModalContent").find(".modal-body").html(""),appAlert.error("404: Page not found.",{container:".modal-body",animate:!1})}},error:function(t){var a="500: Internal Server Error.";$("#ajaxModalContent").find(".modal-body").html(""),t.message&&(a=t.message),appAlert.error(a,{container:".modal-body",animate:!1})}}),!1):(console.log("Ajax Modal: Set data-action-url!"),!1)}),$("#ajaxModal").on("hidden.bs.modal",function(t){ajaxModalXhr.abort(),$("#ajaxModal").find(".modal-dialog").removeClass("modal-lg"),$("#ajaxModalContent").html("")}),$("body").on("click","[data-act=ajax-request]",function(){var t={},a=$(this),e=a.attr("data-action-url"),n=a.attr("data-remove-on-success"),o=a.attr("data-remove-on-click"),r=a.attr("data-fade-out-on-success"),i=a.attr("data-fade-out-on-click"),s=a.attr("data-inline-loader"),l=a.attr("data-reload-on-success"),d="";if(a.attr("data-real-target")?d=$(a.attr("data-real-target")):a.attr("data-closest-target")&&(d=a.closest(a.attr("data-closest-target"))),!e)return console.log("Ajax Request: Set data-action-url!"),!1;o&&$(o).length&&$(o).remove(),i&&$(i).length&&$(i).fadeOut(function(){$(this).remove()}),a.each(function(){$.each(this.attributes,function(){if(this.specified&&this.name.match("^data-post-")){var a=this.name.replace("data-post-","");t[a]=this.value}})}),"1"===s?a.addClass("inline-loader"):appLoader.show(),ajaxRequestXhr=$.ajax({url:e,data:t,cache:!1,type:"POST",success:function(t){l&&location.reload(),n&&$(n).length&&$(n).remove(),r&&$(r).length&&$(r).fadeOut(function(){$(this).remove()}),appLoader.hide(),d.length&&d.html(t)},statusCode:{404:function(){appLoader.hide(),appAlert.error("404: Page not found.")}},error:function(){appLoader.hide(),appAlert.error("500: Internal Server Error.")}})}),$("body").on("click",'[data-toggle="ajax-tab"] a',function(){var t=$(this),a=t.attr("href"),e=t.attr("data-target");return!!e&&(""===$(e).html()&&(appLoader.show({container:e,css:"right:50%; bottom:auto;"}),$.get(a,function(t){$(e).html(t)})),t.tab("show"),!1)}),$('[data-toggle="ajax-tab"] a').first().trigger("click"),$("body").on("click",'[data-toggle="app-modal"]',function(){var t=!0;return"0"===$(this).attr("data-sidebar")&&(t=!1),appContentModal.init({url:$(this).attr("data-url"),sidebar:t}),!1})}),function(t){t.fn.appForm=function(a){var e=t.extend({},{ajaxSubmit:!0,isModal:!0,dataType:"json",onModalClose:function(){},onSuccess:function(){},onError:function(){return!0},onSubmit:function(){},onAjaxSuccess:function(){},beforeAjaxSubmit:function(t,a,e){}},a);function n(a,e){t.validator.addMethod("greaterThanOrEqual",function(a,e,n){var o=n;return!n||0!==n.indexOf("#")&&0!==n.indexOf(".")||(o=t(n).val()),/Invalid|NaN/.test(new Date(a))?isNaN(a)&&isNaN(o)||Number(a)>=Number(o):new Date(a)>=new Date(o)},"Must be greater than {0}."),t(a).validate({submitHandler:function(t){if(!e)return!0;e(t)},highlight:function(a){t(a).closest(".form-group").addClass("has-error")},unhighlight:function(a){t(a).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"help-block",ignore:":hidden:not(.validate-hidden)",errorPlacement:function(t,a){a.parent(".input-group").length?t.insertAfter(a.parent()):t.insertAfter(a)}}),t(".validate-hidden").click(function(){t(this).closest(".form-group").removeClass("has-error").find(".help-block").hide()})}function o(){t(".modal-body").closest(".modal-dialog").find('[type="submit"]').removeAttr("disabled"),t(".modal-mask").remove()}this.each(function(){e.ajaxSubmit?n(t(this),function(a){e.onSubmit(),e.isModal&&function(a){var e=a.height()-80;e>0&&(e=Math.floor(e/2));a.append("<div class='modal-mask'><div class='circle-loader'></div></div>");var n=a.outerHeight();t(".modal-mask").css({width:a.width()+30+"px",height:n+"px","padding-top":e+"px"}),a.closest(".modal-dialog").find('[type="submit"]').attr("disabled","disabled")}(t("#ajaxModalContent").find(".modal-body")),t(a).ajaxSubmit({dataType:e.dataType,beforeSubmit:function(t,a,n){e.beforeAjaxSubmit(t,a,n)},success:function(a){e.onAjaxSuccess(a),a.success?(e.onSuccess(a),e.isModal&&function(a){a&&(t(".modal-mask").html("<div class='circle-done'><i class='fa fa-check'></i></div>"),setTimeout(function(){t(".modal-mask").find(".circle-done").addClass("ok")},30));setTimeout(function(){t(".modal-mask").remove(),t("#ajaxModal").modal("toggle"),e.onModalClose()},1e3)}(!0)):e.onError(a)&&(e.isModal?(o(),a.message&&appAlert.error(a.message,{container:".modal-body",animate:!1})):a.message&&appAlert.error(a.message))},error:function(a){if(422==a.status){if(void 0!==a.responseJSON.message&&(appAlert.error(a.responseJSON.message,{duration:1e4}),o()),a.responseJSON.errors)for(field in fieldErrors=a.responseJSON.errors,fieldErrors)t('input[name="'+field+'"]').parent().addClass("has-error"),t('input[name="'+field+'"]').parent().append('<span id="first_name-error" class="help-block">'+fieldErrors[field][0]+"</span>")}else 500==a.status&&(console.log("error 500"),o())}})}):n(t(this))})}}(jQuery),"undefined"!=typeof TableTools&&(TableTools.DEFAULTS.sSwfPath=AppHelper.assetsDirectory+"js/datatable/TableTools/swf/copy_csv_xls_pdf.swf"),function(t){t.fn.appTable=function(a){var e=1*AppHelper.settings.displayLength;!isNaN(e)&&e||(e=10);var n={source:"",serverSide:!0,paging:!0,xlsColumns:[],pdfColumns:[],printColumns:[],columns:[],order:[[0,"desc"]],hideTools:!1,displayLength:e,dateRangeType:"",checkBoxes:[],radioButtons:[],filterDropdown:[],singleDatepicker:[],rangeDatepicker:[],buttons:[],stateSave:!0,stateDuration:2592e3,filterParams:{datatable:!0},onDeleteSuccess:function(){},onUndoSuccess:function(){},onInitComplete:function(){},customLanguage:{noRecordFoundText:AppLanugage.noRecordFound,searchPlaceholder:AppLanugage.search,printButtonText:AppLanugage.print,excelButtonText:AppLanugage.excel,printButtonToolTip:AppLanugage.printButtonTooltip,today:AppLanugage.today,yesterday:AppLanugage.yesterday,tomorrow:AppLanugage.tomorrow},footerCallback:function(t,a,e,n,o){},rowCallback:function(t,a,e,n){},summation:"",onRelaodCallback:function(){}},o=t(this);if(!o.is("table"))return console.log("Element must have to be a table",this),!1;var r=t.extend({},n,a);if(r.reload){var i=t(this).dataTable(),s=window.InstanceCollection["#"+t(this).selector];return s||(s=r),i.fnReloadAjax(s.filterParams),t(this).data("onRelaodCallback")&&t(this).data("onRelaodCallback")(i,s.filterParams),!1}if(r.newData){i=t(this).dataTable();if(r.dataId){var l=t(this).find("[data-post-id='"+r.dataId+"']");if(l.length)i.fnDeleteRow(l.closest("tr"));else{var d=t(this).find("[data-index-id='"+r.dataId+"']");d.length&&i.fnDeleteRow(d.closest("tr"))}}return i.fnAddRow(r.newData),!1}r._visible_columns=[],t.each(r.columns,function(t,a){!1!==a.visible&&r._visible_columns.push(t)}),r._exportable=r.xlsColumns.length+r.pdfColumns.length+r.printColumns.length,r._firstDayOfWeek=AppHelper.settings.firstDayOfWeek||0,r._inputDateFormat="YYYY-MM-DD";var c=function(t){t||(t=moment().format("YYYY-MM-DD"));var a=moment(t).format("E")-AppHelper.settings.firstDayOfWeek,e={};return e.firstDateOfWeek=a<7?moment(t).subtract(a,"days").format("YYYY-MM-DD"):moment(t).format("YYYY-MM-DD"),a<0&&(e.firstDateOfWeek=moment(e.firstDateOfWeek).subtract(7,"days").format("YYYY-MM-DD")),e.lastDateOfWeek=moment(e.firstDateOfWeek).add(6,"days").format("YYYY-MM-DD"),e},m=function(){if("daily"===r.dateRangeType)r.filterParams.start_date=moment().format(r._inputDateFormat),r.filterParams.end_date=r.filterParams.start_date;else if("monthly"===r.dateRangeType){var t=moment().daysInMonth(),a=moment().format("YYYY-MM");r.filterParams.start_date=a+"-01",r.filterParams.end_date=a+"-"+t}else if("yearly"===r.dateRangeType){var e=moment().format("YYYY");r.filterParams.start_date=e+"-01-01",r.filterParams.end_date=e+"-12-31"}else if("weekly"===r.dateRangeType){var n=c();r.filterParams.start_date=n.firstDateOfWeek,r.filterParams.end_date=n.lastDateOfWeek}};m(),function(){var a=[],e="";t.each(r.checkBoxes,function(t,n){e=n.name,n.isChecked&&a.push(n.value)}),r.filterParams[e]=a}(),t.each(r.radioButtons,function(t,a){a.isChecked&&(r.filterParams[a.name]=a.value)}),t.each(r.filterDropdown||[],function(a,e){t.each(e.options,function(t,a){a.isSelected&&(r.filterParams[e.name]=a.id)})}),t.each(r.singleDatepicker||[],function(a,e){t.each(e.options||[],function(t,a){a.isSelected&&(r.filterParams[e.name]=a.value)})}),t.each(r.rangeDatepicker||[],function(t,a){a.startDate&&a.startDate.value&&(r.filterParams[a.startDate.name]=a.startDate.value),a.startDate&&a.endDate.value&&(r.filterParams[a.endDate.name]=a.endDate.value)});var u,f,p={ajax:{url:r.source,type:"POST",data:r.filterParams},serverSide:r.serverSide,paging:r.paging,sServerMethod:"POST",columns:r.columns,bProcessing:!0,iDisplayLength:r.displayLength,bAutoWidth:!1,bSortClasses:!1,order:r.order,stateSave:r.stateSave,fnStateLoadParams:function(t,a){a&&a.search&&(a.search.search="")},stateDuration:r.stateDuration,fnInitComplete:function(){r.onInitComplete(this)},language:{lengthMenu:"_MENU_",zeroRecords:r.customLanguage.noRecordFoundText,info:"_START_-_END_ / _TOTAL_",sInfo:"_START_-_END_ / _TOTAL_",infoFiltered:"(_MAX_)",search:"",searchPlaceholder:r.customLanguage.searchPlaceholder,sInfoEmpty:"0-0 / 0",sInfoFiltered:"(_MAX_)",sInfoPostFix:"",sInfoThousands:",",sProcessing:"<div class='table-loader'><span class='loading'></span></div>",oPaginate:{sPrevious:"<i class='fa fa-angle-double-left'></i>",sNext:"<i class='fa fa-angle-double-right'></i>"}},sDom:"",footerCallback:function(t,a,e,n,o){r.footerCallback(t,a,e,n,o,this)},fnRowCallback:function(t,a,e,n){r.rowCallback(t,a,e,n)}};if(r.hideTools||(p.sDom="<'datatable-tools'<'col-md-1'l><'col-md-11 custom-toolbar 'f>r>t<'datatable-tools row  clearfix'<'col-md-3'i><'col-md-9'p>>"),r._exportable){var h=[];if(r.xlsColumns.length&&h.push({sExtends:"xls",sButtonText:r.customLanguage.excelButtonText,mColumns:r.xlsColumns}),r.pdfColumns.length&&h.push({sExtends:"pdf",mColumns:r.pdfColumns}),r.printColumns.length){r._hiddenColumns=(u=r._visible_columns,f=r.printColumns,u.filter(function(t){return f.indexOf(t)<0})),h.push({sExtends:"print",sButtonText:r.customLanguage.printButtonText,sToolTip:r.customLanguage.printButtonToolTip,sInfo:"",fnClick:function(a,e){for(var n in r._hiddenColumns)g.fnSetColumnVis(r._hiddenColumns[n],!1);t("html").addClass("print-peview"),t(".scrollable-page").addClass("print-peview"),this.fnPrint(!0,e),t(window).keydown(function(a){if(27===a.which){for(var e in r._hiddenColumns)g.fnSetColumnVis(r._hiddenColumns[e],!0);t(".print-peview").removeClass("print-peview"),setPageScrollable(),t(".dataTables_processing").hide()}})}})}r.hideTools||(p.sDom="<'datatable-tools'<'col-md-1'l><'col-md-11 custom-toolbar'f<'datatable-export'T>>r>t<'datatable-tools clearfix'<'col-md-3'i><'col-md-9'p>>"),p.oTableTools={aButtons:h}}var g=o.dataTable(p),v=o.closest(".dataTables_wrapper");if(v.find(".DTTT_button_print").tooltip({placement:"bottom",container:"body"}),v.find("select").select2({minimumResultsForSearch:-1}),o.data("onRelaodCallback",r.onRelaodCallback),r.dateRangeType){v.find(".custom-toolbar").append('<div class="mr5 DTTT_container"><button data-act="prev" class="btn btn-default btn-white date-range-selector"><i class="fa fa-chevron-left"></i></button><button data-act="datepicker" class="btn btn-default btn-white" style="margin: -1px"></button><button data-act="next"  class="btn btn-default  btn-white date-range-selector"><i class="fa fa-chevron-right"></i></button></div>');var b=v.find("[data-act='datepicker']"),y=v.find(".date-range-selector");if("daily"===r.dateRangeType){var _=function(t){r.filterParams.start_date===moment().format(r._inputDateFormat)?t.html(r.customLanguage.today):r.filterParams.start_date===moment().subtract(1,"days").format(r._inputDateFormat)?t.html(r.customLanguage.yesterday):r.filterParams.start_date===moment().add(1,"days").format(r._inputDateFormat)?t.html(r.customLanguage.tomorrow):t.html(moment(r.filterParams.start_date).format("Do, MMMM YYYY"))};m(),_(b),b.datepicker({format:r._inputDateFormat,autoclose:!0,todayHighlight:!0,language:"custom"}).on("changeDate",function(t){var a=moment(t.date).format(r._inputDateFormat);r.filterParams.start_date=a,r.filterParams.end_date=a,_(b),o.appTable({reload:!0,filterParams:r.filterParams})}),y.click(function(){var a=t(this).attr("data-act"),e="";"next"===a?e=moment(r.filterParams.start_date).add(1,"days").format(r._inputDateFormat):"prev"===a&&(e=moment(r.filterParams.start_date).subtract(1,"days").format(r._inputDateFormat)),r.filterParams.start_date=e,r.filterParams.end_date=e,_(b),o.appTable({reload:!0,filterParams:r.filterParams})})}if("monthly"===r.dateRangeType){var k=function(t){t.html(moment(r.filterParams.start_date).format("MMMM YYYY"))};m(),k(b),b.datepicker({format:"YYYY-MM",viewMode:"months",minViewMode:"months",autoclose:!0,language:"custom"}).on("changeDate",function(t){var a=moment(t.date).format(r._inputDateFormat),e=moment(a).daysInMonth(),n=moment(a).format("YYYY-MM");r.filterParams.start_date=n+"-01",r.filterParams.end_date=n+"-"+e,k(b),o.appTable({reload:!0,filterParams:r.filterParams})}),y.click(function(){var a=t(this).attr("data-act"),e=moment(r.filterParams.start_date),n=moment(r.filterParams.end_date);if("next"===a){var i=e.add(1,"months"),s=i.daysInMonth();e=(l=i.format("YYYY-MM"))+"-01",n=l+"-"+s}else if("prev"===a){var l,d=e.subtract(1,"months");s=d.daysInMonth();e=(l=d.format("YYYY-MM"))+"-01",n=l+"-"+s}r.filterParams.start_date=e,r.filterParams.end_date=n,k(b),o.appTable({reload:!0,filterParams:r.filterParams})})}if("yearly"===r.dateRangeType){var x=function(t){t.html(moment(r.filterParams.start_date).format("YYYY"))};m(),x(b),b.datepicker({format:"YYYY-MM",viewMode:"years",minViewMode:"years",autoclose:!0,language:"custom"}).on("changeDate",function(t){var a=moment(t.date).format(r._inputDateFormat),e=moment(a).format("YYYY");r.filterParams.start_date=e+"-01-01",r.filterParams.end_date=e+"-12-31",x(b),o.appTable({reload:!0,filterParams:r.filterParams})}),y.click(function(){var a=t(this).attr("data-act"),e=moment(r.filterParams.start_date),n=moment(r.filterParams.end_date);"next"===a?(e=e.add(1,"years").format(r._inputDateFormat),n=n.add(1,"years").format(r._inputDateFormat)):"prev"===a&&(e=e.subtract(1,"years").format(r._inputDateFormat),n=n.subtract(1,"years").format(r._inputDateFormat)),r.filterParams.start_date=e,r.filterParams.end_date=n,x(b),o.appTable({reload:!0,filterParams:r.filterParams})})}if("weekly"===r.dateRangeType){var T=function(t){var a=moment(r.filterParams.start_date).format("Do MMM"),e=moment(r.filterParams.end_date).format("Do MMM, YYYY");b.datepicker({format:"YYYY-MM-DD",autoclose:!0,calendarWeeks:!0,language:"custom",weekStart:AppHelper.settings.firstDayOfWeek,clearBtn:!0}),t.html(a+" - "+e)};T(b),y.click(function(){var a=t(this).attr("data-act"),e=moment(r.filterParams.start_date),n=moment(r.filterParams.end_date);"next"===a?(e=e.add(7,"days").format(r._inputDateFormat),n=n.add(7,"days").format(r._inputDateFormat)):"prev"===a&&(e=e.subtract(7,"days").format(r._inputDateFormat),n=n.subtract(7,"days").format(r._inputDateFormat)),r.filterParams.start_date=e,r.filterParams.end_date=n,T(b),o.appTable({reload:!0,filterParams:r.filterParams})}),b.datepicker({format:r._inputDateFormat,autoclose:!0,calendarWeeks:!0,language:"custom",weekStart:AppHelper.settings.firstDayOfWeek,clearBtn:!0}).on("show",function(){t(".datepicker").addClass("week-view"),t(".datepicker-days").find(".active").siblings(".day").addClass("active")}).on("changeDate",function(t){var a=c(t.date);r.filterParams.start_date=a.firstDateOfWeek,r.filterParams.end_date=a.lastDateOfWeek,T(b),o.appTable({reload:!0,filterParams:r.filterParams})})}}if(void 0!==r.checkBoxes[0]){var D="",w=[],P="";t.each(r.checkBoxes,function(t,a){var e="",n="";P=a.name,a.isChecked&&(e=" checked",n=" active",w.push(a.value)),D+='<label class="btn btn-default btn-white '+n+'">',D+='<input type="checkbox" name="'+a.name+'" value="'+a.value+'" autocomplete="off" '+e+">"+a.text,D+="</label>"}),r.filterParams[P]=w;var M='<div class="mr5 DTTT_container"><div class="btn-group filter" data-act="checkbox" data-toggle="buttons">'+D+"</div></div>";v.find(".custom-toolbar").append(M),v.find("[data-act='checkbox']").click(function(){var a=t(this);setTimeout(function(){var e=[],n="";a.parent().find("input:checkbox").each(function(){n=t(this).attr("name"),t(this).is(":checked")&&e.push(t(this).val())}),r.filterParams[n]=e,o.appTable({reload:!0,filterParams:r.filterParams})})})}if(void 0!==r.radioButtons[0]){var C="";t.each(r.radioButtons,function(t,a){var e="",n="";a.isChecked&&(e=" checked",n=" active",r.filterParams[a.name]=a.value),C+='<label class="btn btn-default btn-white '+n+'">',C+='<input type="radio" name="'+a.name+'" value="'+a.value+'" autocomplete="off" '+e+">"+a.text,C+="</label>"});var Y='<div class="mr5 DTTT_container"><div class="btn-group filter" data-act="radio" data-toggle="buttons">'+C+"</div></div>";v.find(".custom-toolbar").append(Y),v.find("[data-act='radio']").click(function(){var a=t(this);setTimeout(function(){a.parent().find("input:radio").each(function(){t(this).is(":checked")&&(r.filterParams[t(this).attr("name")]=t(this).val())}),o.appTable({reload:!0,filterParams:r.filterParams})})})}if(void 0!==r.singleDatepicker[0]&&t.each(r.singleDatepicker,function(a,e){var n=" ",i="",s="";e.options||(e.options=[]),e.options.push({value:"show-date-picker",text:AppLanugage.custom}),t.each(e.options,function(t,a){var e="";a.isSelected&&(e="active",i=a.value,s=a.text),n+='<div class="list-group-item '+e+'" data-value="'+a.value+'">'+a.text+"</div>"}),s||(s="- "+e.defaultText+" -",n='<div class="list-group-item active" data-value="">'+s+"</div>"+n),e.name&&(r.filterParams[e.name]=i);var l=function(t){r.filterParams[e.name]=t,o.appTable({reload:!0,filterParams:r.filterParams})},d=function(t){return t+"<i class='ml10 fa fa-caret-down text-off'></i>"},c='<div class="datepicker-custom-list list-group mb0">'+n+"</div>",m='<div class="mr5 DTTT_container"><button name="'+e.name+'" class="btn btn-default btn-white datepicker-custom-selector">'+d(s)+"</button></div>";v.find(".custom-toolbar").append(m);var u=v.find("[name='"+e.name+"']"),f=void 0!==e.options[1];u.datepicker({format:r._inputDateFormat,autoclose:!0,todayHighlight:!0,language:"custom",weekStart:AppHelper.settings.firstDayOfWeek,orientation:"bottom"}).on("show",function(){f&&(t(".datepicker-days, .datepicker-months, .datepicker-years, .datepicker-decades, .table-condensed").hide(),t(".datepicker-custom-list").show(),t(".datepicker-custom-list").length||(t(".datepicker").append(c),t(".datepicker .list-group-item").click(function(){t(".datepicker .list-group-item").removeClass("active"),t(this).addClass("active");var a=t(this).attr("data-value");"show-date-picker"===a?(t(".datepicker-custom-list, .datepicker-months, .datepicker-years, .datepicker-decades, .table-condensed").hide(),t(".datepicker-days, .table-condensed").show()):(t(".datepicker").hide(),moment(a,r._inputDateFormat).isValid()&&(a=moment(a,r._inputDateFormat).format(r._inputDateFormat)),u.html(d(t(this).html())),l(a))})))}).on("changeDate",function(t){u.html(d(moment(t.date,r._inputDateFormat).format("Do, MMMM YYYY"))),l(moment(t.date,r._inputDateFormat).format(r._inputDateFormat))})}),void 0!==r.rangeDatepicker[0]&&t.each(r.rangeDatepicker,function(a,e){var n=e.startDate||{},i=e.endDate||{},s=!!e.showClearButton,l='<i class="fa fa-calendar"></i>',d=n.value?moment(n.value,r._inputDateFormat).format("Do, MMMM YYYY"):l,c=i.value?moment(i.value,r._inputDateFormat).format("Do, MMMM YYYY"):l;r.filterParams[n.name]=n.value,r.filterParams[i.name]=i.value;var m=function(t,a){r.filterParams[t]=a,o.appTable({reload:!0,filterParams:r.filterParams})},u='<div class="mr5 DTTT_container"><div class="input-daterange input-group"><button class="btn btn-default btn-white form-control" name="'+n.name+'" data-date="'+n.value+'">'+d+'</button><span class="input-group-addon">-</span><button class="btn btn-default btn-white form-control" name="'+i.name+'" data-date="'+i.value+'">'+c+"</div></div>";v.find(".custom-toolbar").append(u);var f=v.find(".input-daterange"),p=f.find("button").toArray();f.datepicker({format:"yyyy-mm-dd",autoclose:!0,todayHighlight:!0,language:"custom",weekStart:AppHelper.settings.firstDayOfWeek,orientation:"bottom",inputs:p}).on("changeDate",function(a){var e=moment(a.date,r._inputDateFormat).format(r._inputDateFormat);r.filterParams[n.name]||(r.filterParams[n.name]=e),r.filterParams[i.name]||(r.filterParams[i.name]=e),m(t(a.target).attr("name"),e),t(p[0]).html(moment(r.filterParams[n.name],r._inputDateFormat).format("Do, MMMM YYYY")),t(p[1]).html(moment(r.filterParams[i.name],r._inputDateFormat).format("Do, MMMM YYYY"))}).on("show",function(){s&&(t(".datepicker-clear-selection").show(),t(".datepicker-clear-selection").length||(t(".datepicker").append("<div class='datepicker-clear-selection p5 clickable text-center'>"+AppLanugage.clear+"</div>"),t(".datepicker .datepicker-clear-selection").click(function(){r.filterParams[n.name]="",m(i.name,""),t(p[0]).html(l),t(p[1]).html(l),t(".datepicker").hide()})))})}),"undefied"!==r.buttons[0]){var S="";t.each(r.buttons,function(t,a){var e=a.class||"btn btn-default",n=a.id||"",o=a.title||"-title-";S+='<button id="'+n+'" class="'+e+'">'+o+"</button>"});var $='<div class="mr5 DTTT_container">'+S+"</div>";v.find(".custom-toolbar").append($)}if(void 0!==r.filterDropdown[0]){C="";t.each(r.filterDropdown,function(a,e){var n="",i="",s="";t.each(e.options,function(t,a){var e="";a.isSelected&&(e="selected",i=a.id),n+="<option "+e+' value="'+a.id+'">'+a.text+"</option>"}),t.each(e.dataAttr,function(t,a){s+="data-"+t+'="'+a+'"'}),e.name&&(r.filterParams[e.name]=i);var l='<div class="mr5 DTTT_container"><select class="'+e.class+'" name="'+e.name+'" '+s+">"+n+"</select></div>";v.find(".custom-toolbar").append(l);var d=v.find("[name='"+e.name+"']");void 0!==window.Select2&&d.select2(),d.change(function(){var a=t(this);r.filterParams[a.attr("name")]=a.val(),o.appTable({reload:!0,filterParams:r.filterParams})})})}var A=function(a){var e=t(a.currentTarget);a.data&&a.data.target&&(e=a.data.target);var n=e.attr("data-action-url"),i=e.attr("data-id"),s=e.attr("data-undo");t.ajax({url:n,type:"POST",dataType:"json",data:{id:i},success:function(a){if("success"==a.success){var l=e.closest("tr").get(0),d=o.DataTable();l.remove(),g.fnDeleteRow(d.row(l)),r.onDeleteSuccess(a),"1"==s&&(c={alertSelector:alertId,url:n,id:i},t('<a class="undo-delete" href="javascript:;"><strong>Undo</strong></a>').insertAfter(t(c.alertSelector).find(".app-alert-message")),t(c.alertSelector).find(".undo-delete").bind("click",function(){t(c.alertSelector).remove(),appLoader.show(),t.ajax({url:c.url,type:"POST",dataType:"json",data:{id:c.id,undo:!0},success:function(t){appLoader.hide(),t.success&&(o.appTable({newData:t.data}),r.onUndoSuccess(t))}})}))}else toastr.error(a.message);var c}})};window.InstanceCollection=window.InstanceCollection||{},window.InstanceCollection["#"+t(this).selector]=r,t("body").find(o).on("click","[data-action=delete]",A),t("body").find(o).on("click","[data-action=delete-confirmation]",function(a){a.preventDefault();var e=t("#confirmDeleteButton"),n=t(a.currentTarget);t(this).each(function(){t.each(this.attributes,function(){this.specified&&this.name.match("^data-")&&e.attr(this.name,this.value)})}),n.attr("data-undo","0"),e.unbind("click"),e.on("click",{target:n},A),t("#confirmationModal").modal("show")}),t(".custom-toolbar").closest(".datatable-tools").addClass("row"),t.fn.dataTableExt.oApi.getSettings=function(t){return t},t.fn.dataTableExt.oApi.fnReloadAjax=function(a,e){return a.ajax.data=e,(i=t(this).DataTable()).ajax.reload(null,!1),!1},t.fn.dataTableExt.oApi.fnAddRow=function(t,a){this.oApi._fnAddData(t,a),this.fnDraw(this)}}}(jQuery),e=function(t){return function(){var a={info:function(t,a){return this._settings=e(a),this._settings.alertType="info",n(t),"#"+this._settings.alertId},success:function(t,a){return this._settings=e(a),this._settings.alertType="success",n(t),"#"+this._settings.alertId},warning:function(t,a){return this._settings=e(a),this._settings.alertType="warning",n(t),"#"+this._settings.alertId},error:function(t,a){return this._settings=e(a),this._settings.alertType="error",n(t),"#"+this._settings.alertId},options:{container:"body",duration:0,showProgressBar:!0,clearAll:!0,animate:!0}};return a;function e(e){return e||(e={}),e.alertId="app-alert-"+function(){for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789",e=0;e<5;e++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}(),this._settings=t.extend({},a.options,e)}function n(a){!function(){this._settings.clearAll&&t("[role='alert']").remove()}(),t(this._settings.container).length?(this._settings.animate&&setTimeout(function(){t(".app-alert").animate({opacity:1,right:"40px"},500,function(){t(".app-alert").animate({right:"15px"},300)})},20),t(this._settings.container).prepend(function(t){var a="info";return"error"===this._settings.alertType?a="danger":"success"===this._settings.alertType?a="success":"warning"===this._settings.alertType&&(a="warning"),this._settings.animate&&(a+=" animate"),'<div id="'+this._settings.alertId+'" class="app-alert alert alert-'+a+' alert-dismissible " role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="app-alert-message">'+t+'</div><div class="progress"><div class="progress-bar progress-bar-'+a+' hide" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div></div>'}(a)),function(){if(this._settings.duration&&this._settings.showProgressBar){var a="#"+this._settings.alertId,e=t(a).find(".progress-bar");e.removeClass("hide").width(0);var n="width "+this._settings.duration+"ms ease";e.css({WebkitTransition:n,MozTransition:n,MsTransition:n,OTransition:n,transition:n}),setTimeout(function(){t(a).length>0&&t(a).remove()},this._settings.duration)}}()):console.log("appAlert: container must be an html selector!")}}()},window.appAlert=e(window.jQuery),function(t){var a;a=function(t){return function(){var a={show:function(e){var n=t("#app-loader");if(this._settings=function(e){if(!e)var e={};return this._settings=t.extend({},a.options,e)}(e),!n.length){var o=t(this._settings.container);o.length?o.append('<div id="app-loader" class="app-loader" style="z-index:'+this._settings.zIndex+";"+this._settings.css+'"><div class="loading"></div></div>'):console.log("appLoader: container must be an html selector!")}},hide:function(){var a=t("#app-loader");a.length&&a.remove()},options:{container:"body",zIndex:"auto",css:""}};return a}()},window.appLoader=a(window.jQuery)}(),function(t){var a;a=function(t){return function(){var a={init:function(o){this._settings=function(a){a||(a={});return this._settings=t.extend({},appLoader.options,a)}(o),function(o){var r="<div class='app-modal-sidebar hidden-xs'>                                        <div class='app-modal-close'><span>&times;</span></div>                                        <div class='app-moadl-sidebar-scrollbar'>                                            <div class='app-modal-sidebar-area'>                                            </div>                                        </div>                                    </div>",i="<i class='fa fa-expand expand hidden-xs'></i>";!1===o.sidebar&&(r="",i="<div class='app-modal-close app-modal-fixed-close-button'><span>&times;</span></div>");var s="<div class='app-modal loading'>                                <i class='fa fa-compress compress'></i>                                <div class='app-modal-body'>                                    <div class='app-modal-content'>"+i+"<div class='hide app-modal-close'><span>&times;</span></div>                                    <div class='app-modal-content-area'>                                    </div>                                </div>"+r+"</div>                        </div>";n(),t("body").prepend(s),t.fn.mCustomScrollbar&&t(".app-moadl-sidebar-scrollbar").mCustomScrollbar({setHeight:t(window).height()-60,theme:"minimal-dark",autoExpandScrollbar:!0});t(".expand").click(function(){t(".app-modal").addClass("full-content")}),t(".compress").click(function(){t(".app-modal").removeClass("full-content")}),t(".app-modal-close").click(function(){n()}),t(document).bind("keyup",e),appLoader.show({container:".app-modal",css:"top:35%; right:48%;"}),appModalXhr=t.ajax({url:o.url||"",data:{},cache:!1,type:"POST",success:function(a){var e=t(a);t(".app-modal-content-area").html(e.find(".app-modal-content").html()),t(".app-modal-sidebar-area").html(e.find(".app-modal-sidebar").html()),e.remove(),t(".app-modal").removeClass("loading"),appLoader.hide()},statusCode:{404:function(){a.destroy(),appAlert.error("404: Page not found.")}},error:function(){a.destroy(),appAlert.error("500: Internal Server Error.")}})}(this._settings)},destroy:n,options:{url:"",css:"",sidebar:!0}};return a;function e(t){27===t.keyCode&&n()}function n(){t(".app-modal").remove(),t(document).unbind("keyup",e),"undefined"!=typeof appModalXhr&&appModalXhr.abort()}}()},window.appContentModal=a(window.jQuery)}(),function(t){t.fn.appDateRange=function(a){var e=t.extend({},{dateRangeType:"yearly",filterParams:{},onChange:function(t){},onInit:function(t){}},a);e._inputDateFormat="YYYY-MM-DD",this.each(function(){var a=t(this);a.append('<div class="ml15"><button data-act="prev" class="btn btn-default date-range-selector"><i class="fa fa-chevron-left"></i></button><button data-act="datepicker" class="btn btn-default" style="margin: -1px"></button><button data-act="next"  class="btn btn-default date-range-selector"><i class="fa fa-chevron-right"></i></button></div>');var n=a.find("[data-act='datepicker']"),o=a.find(".date-range-selector");if("yearly"===e.dateRangeType){var r=function(t){t.html(moment(e.filterParams.start_date).format("YYYY"))};r(n),n.datepicker({format:"YYYY-MM",viewMode:"years",minViewMode:"years",autoclose:!0,language:"custom"}).on("changeDate",function(t){var a=moment(t.date).format(e._inputDateFormat),o=moment(a).format("YYYY");e.filterParams.start_date=o+"-01-01",e.filterParams.end_date=o+"-12-31",e.filterParams.year=o,r(n),e.onChange(e.filterParams)});var i=moment().format("YYYY");e.filterParams.start_date=i+"-01-01",e.filterParams.end_date=i+"-12-31",e.filterParams.year=i,e.onInit(e.filterParams),o.click(function(){var a=t(this).attr("data-act"),o=moment(e.filterParams.start_date),i=moment(e.filterParams.end_date);"next"===a?(o=o.add(1,"years").format(e._inputDateFormat),i=i.add(1,"years").format(e._inputDateFormat)):"prev"===a&&(o=o.subtract(1,"years").format(e._inputDateFormat),i=i.subtract(1,"years").format(e._inputDateFormat)),e.filterParams.start_date=o,e.filterParams.end_date=i,e.filterParams.year=moment(o).format("YYYY"),r(n),e.onChange(e.filterParams)})}})}}(jQuery),replaceAllString=function(t,a,e){return t.split(a).join(e)},toCurrency=function(t,a){t=parseFloat(t).toFixed(2),a||(a=AppHelper.settings.currencySymbol);var e=t.replace(/(\d)(?=(\d{3})+\.)/g,"$1,");return" "===AppHelper.settings.thousandSeparator&&(e=e.replace(","," ")),","===AppHelper.settings.decimalSeparator&&(e=replaceAllString(e,".","_"),e=replaceAllString(e,",","."),e=replaceAllString(e,"_",",")),"none"===a&&(a=""),"right"===AppHelper.settings.currencyPosition?e+""+a:a+""+e},calculateDatatableTotal=function(t,a,e,n){var o=t.api(),r={};return n&&(r={page:"current"}),o.column(a,r).data().reduce(function(t,a){return e?t+e(a):t+a},0)},unformatCurrency=function(t){return(t=t.toString())&&(0!=(t=t.replace(/[^0-9.,]/g,"")).indexOf(".")&&0!=t.indexOf(",")||(t=t.slice(1)),","===AppHelper.settings.decimalSeparator?(t=replaceAllString(t,".",""),t=replaceAllString(t,",",".")):t=replaceAllString(t,",",""),t*=1),t||0},secondsToTimeFormat=function(t){var a=parseInt(t,10),e=Math.floor(a/3600),n=Math.floor((a-3600*e)/60),o=a-3600*e-60*n;return e<10&&(e="0"+e),n<10&&(n="0"+n),o<10&&(o="0"+o),e+":"+n+":"+o},clearAppTableState=function(t){t&&setTimeout(function(){t.api().state.clear()},200)},showHideAppTableColumn=function(t,a,e){t.fnSetColumnVis(a,!!e)}},function(t,a){}]);